{"version":3,"file":"vue-sprintf-components.min.js","sources":["../src/utils.js","../src/index.js"],"sourcesContent":["export const createNamedRegexp = () => /%\\((\\w+)\\)c/g\nexport const notEnoghtSlots = () => new Error('Not enought slots for placeholders')\nexport const createArgsRegexp = () => /%c/g\n\n/**\n * Function create arr for render from text with placeholders and components\n *\n * @param {string} text string with args placeholders `%c`\n * @param {RegExp} regExp - pattern for search placeholders\n * @param {[]Object} placeholders array with components\n * @param {Boolean} silent boolean for disable throw errors\n * @returns {[][]string}\n */\nexport const arrSprintf = (text, regExp, placeholders, silent) => {\n  const splittedText = text.split(regExp)\n\n  return splittedText.map((part, index) => {\n    if (index + 1 === splittedText.length) {\n      return [part]\n    }\n\n    if (!placeholders[index] && !silent) {\n      throw notEnoghtSlots()\n    }\n\n    return [part, placeholders[index] || '']\n  })\n}\n/**\n * Function create arr for render from text with placeholders and components\n *\n * @param {string} text string with named placeholders `%(named)c`\n * @param {RegExp} regExp - pattern for search placeholders\n * @param {Object<string, any>} placeholders object with components\n * @param {Boolean} silent boolean for disable throw errors\n * @returns {[][]string}\n */\nexport const arrSprintfNamed = (text, regExp, placeholders, silent) => {\n  const result = []\n  let matches\n  let lastIndex = 0\n  while ((matches = regExp.exec(text)) !== null) {\n    const [, slotKey] = matches\n    const { index } = matches\n    if (!placeholders[slotKey] && !silent) {\n      throw notEnoghtSlots()\n    }\n\n    result.push(\n      text.slice(lastIndex, index),\n      placeholders[slotKey]\n    )\n\n    lastIndex = regExp.lastIndex\n  }\n\n  return result\n}\n","import {\n  createArgsRegexp,\n  createNamedRegexp,\n  arrSprintfNamed,\n  arrSprintf,\n} from './utils'\n\nexport default {\n  name: 'VueSprintfComponents',\n  functional: true,\n  render: (h, { children, props: { text, silent }, slots }) => {\n    if (!text) {\n      return ''\n    }\n\n    if (!createNamedRegexp().test(text)) {\n      return arrSprintf(text, createArgsRegexp(), children, silent)\n    }\n\n    return arrSprintfNamed(text, createNamedRegexp(), slots(), silent)\n  },\n  props: {\n    /**\n     * String with placeholders %c or %(named)c\n     */\n    text: {\n      type: String,\n      required: true,\n    },\n    /**\n     * Boolean for disable errors\n     */\n    silent: Boolean,\n  },\n}\n"],"names":["notEnoghtSlots","Error","h","children","props","text","silent","slots","test","regExp","placeholders","matches","result","lastIndex","exec","slotKey","index","push","slice","arrSprintfNamed","splittedText","split","map","part","length","arrSprintf","String","Boolean"],"mappings":";;;;;ulBAAO,IACMA,EAAiB,kBAAM,IAAIC,MAAM,mDCOtC,mCACM,SACJ,SAACC,SAAKC,IAAAA,aAAUC,MAASC,IAAAA,KAAMC,IAAAA,OAAUC,IAAAA,aAC1CF,EDX8B,eCeVG,KAAKH,GDsBH,SAACA,EAAMI,EAAQC,EAAcJ,WAEtDK,EADEC,KAEFC,EAAY,EACyB,QAAjCF,EAAUF,EAAOK,KAAKT,KAAiB,KACpCU,IAAWJ,QACZK,EAAUL,EAAVK,UACHN,EAAaK,KAAaT,QACvBN,MAGDiB,KACLZ,EAAKa,MAAML,EAAWG,GACtBN,EAAaK,MAGHN,EAAOI,iBAGdD,ECrCEO,CAAgBd,EDnBY,eCmBeE,IAASD,GDNrC,SAACD,EAAMI,EAAQC,EAAcJ,OAC/Cc,EAAef,EAAKgB,MAAMZ,UAEzBW,EAAaE,IAAI,SAACC,EAAMP,MACzBA,EAAQ,IAAMI,EAAaI,cACrBD,OAGLb,EAAaM,KAAWV,QACrBN,WAGAuB,EAAMb,EAAaM,IAAU,MCT5BS,CAAWpB,EDdc,MCcYF,EAAUG,GAJ/C,sBAcDoB,iBACI,UAKJC"}